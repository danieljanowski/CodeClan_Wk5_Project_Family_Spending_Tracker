<h1><%= @user.username %></h1>
<hr />

<h3>Edit transaction</h3>

  <form method="post" action="/transactions/<%= @user.id %>/<%= @transaction.id %>">

    <label for="Merchant">Merchant:</label>
    <select name="merchant_id" id="merchant-selection">
      <% @merchants.each do |merchant| %>
        <% if merchant.id == @transaction.merchant.id %>
          <option value="<%= merchant.id %>"selected><%= merchant.name %> </option>
        <% else %>
          <option value="<%= merchant.id %>"><%= merchant.name %> </option>
        <% end %>
      <% end %>
    </select>

    <label for="Category">Category:</label>
    <select name="category_id" id="category-selection">
      <% @categories.each do |category| %>
        <% if category.id == @transaction.category.id %>
          <option value="<%= category.id %>"selected><%= category.name %> </option>
        <% else %>
          <option value="<%= category.id %>"><%= category.name %> </option>
        <% end %>
      <% end %>
    </select>

    <label for="Value">Value:</label>
    <input type="number" name="value" id="value-field" value="<%= @transaction.value %>" step="0.01"></input>

    <input type="submit" value="Update"> </input>

  </form>

  <table>
    <% for transaction in @transactions %>
      <tr>
        <td><%= transaction.merchant.name %></td>
        <td><%= transaction.category.name %></td>
        <td>Â£<%= sprintf('%.2f', transaction.value.to_f) %></td>
      </tr>
    <% end %>
  </table>
